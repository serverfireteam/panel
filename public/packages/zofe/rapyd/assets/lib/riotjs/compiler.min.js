(function(e,r){if(typeof define==="function"&&define.amd)define(["riot"],r);else if(typeof exports==="object")r(require("riot"));else r(e.riot)})(this,function(e,r){var t="string";var n={html:{},css:{},js:{coffee:function(e){return CoffeeScript.compile(e,{bare:true})},es6:function(e){return babel.transform(e,{blacklist:["useStrict"]}).code},none:function(e){return e}}};n.js.javascript=n.js.none;n.js.coffeescript=n.js.coffee;e.parsers=n;var i=("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,"+"defaultchecked,defaultmuted,defaultselected,defer,disabled,draggable,enabled,formnovalidate,hidden,"+"indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,"+"pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,spellcheck,translate,truespeed,"+"typemustmatch,visible").split(","),s="area,base,br,col,command,embed,hr,img,input,keygen,link,meta,param,source,track,wbr".split(","),c=["style","src","d"],a=/^<([\w\-]+)>(.*)<\/\1>/gim,o=/=({[^}]+})([\s\/\>]|$)/g,f=/([\w\-]+)=(["'])([^\2]+?)\2/g,l=/{\s*([^}]+)\s*}/g,u=/^<([\w\-]+)\s?([^>]*)>([^\x00]*[\w\/}"']>$)?([^\x00]*?)^<\/\1>/gim,p=/<script(?:\s+type=['"]?([^>'"]+)['"]?)?>([^\x00]*?)<\/script>/gi,m=/<style(?:\s+([^>]+))?>([^\x00]*?)<\/style>/gi,d=/(^|\}|\{)\s*([^\{\}]+)\s*(?=\{)/g,g=/<!--.*?-->/g,h=/<([\w\-]+)([^>]*)\/\s*>/g,v=/\/\*[\s\S]*?\*\//g,b=/^\s*\/\/.*$/gm,w=/(<input\s[^>]*?)type=['"]number['"]/gm;function y(e,r,t,n,i){return"riot.tag('"+e+"', '"+r+"'"+(t?", '"+t+"'":"")+(n?", '"+n.replace(/'/g,"\\'")+"'":"")+", function(opts) {"+i+"\n});"}function x(r,t,n){if(!r)return"";var a=e.util.brackets,u=a(0),p=a(1);r=r.replace(a(o),'="$1"$2');r=t.whitespace?r.replace(/\r\n?|\n/g,"\\n"):r.replace(/\s+/g," ");r=r.trim().replace(g,"");r=r.replace(w,"$1riot-type="+u+'"number"'+p);r=r.replace(f,function(e,r,t,n){if(n.indexOf(u)>=0){r=r.toLowerCase();if(c.indexOf(r)>=0)r="riot-"+r;else if(i.indexOf(r)>=0)r="__"+r}return r+'="'+n+'"'});if(t.expr){r=r.replace(a(l),function(e,r){var i=j(r,t,n).trim().replace(/[\r\n]+/g,"").trim();if(i.slice(-1)==";")i=i.slice(0,-1);return u+i+p})}r=r.replace(h,function(e,r,t){var n="<"+r+(t?" "+t.trim():"")+">";if(s.indexOf(r.toLowerCase())==-1)n+="</"+r+">";return n});r=r.replace(/'/g,"\\'");r=r.replace(a(/\\{|\\}/g),"\\$&");if(t.compact)r=r.replace(/> </g,"><");return r}function $(e){e=e.replace(b,"").replace(v,"");var r=e.split("\n"),t="";r.forEach(function(e,n){var i=e.trim();if(i[0]!="}"&&~i.indexOf("(")){var s=i.match(/[{}]$/),c=s&&e.match(/^(\s+)([$\w]+)\s*\(([$\w,\s]*)\)\s*\{/);if(c&&!/^(if|while|switch|for|catch|function)$/.test(c[2])){r[n]=c[1]+"this."+c[2]+" = function("+c[3]+") {";if(s[0]=="}"){r[n]+=" "+i.slice(c[0].length-1,-1)+"}.bind(this)"}else{t=c[1]}}}if(e.slice(0,t.length+1)==t+"}"){r[n]=t+"}.bind(this);";t=""}});return r.join("\n")}function k(e,r,t){return r.replace(v,"").replace(d,function(r,t,n){return t+" "+n.split(/\s*,\s*/g).map(function(r){var t=r.trim();var n=(/:scope/.test(t)?"":" ")+t.replace(/:scope/,"");return t[0]=="@"||t=="from"||t=="to"||/%$/.test(t)?t:e+n+', [riot-tag="'+e+'"]'+n}).join(",")}).trim()}function j(r,t,n){if(!r)return"";var i=t.parser||(n?e.parsers.js[n]:$);if(!i)throw new Error('Parser not found "'+n+'"');return i(r.replace(/\r\n?/g,"\n"),t)}function E(r,t){var n=e.parsers.html[r];if(!n)throw new Error('Template parser not found "'+r+'"');return n(t.replace(/\r\n?/g,"\n"))}function S(r,t,n,i){if(n==="scoped-css")i=1;else if(e.parsers.css[n])r=e.parsers.css[n](t,r);else if(n!=="css")throw new Error('CSS parser not found: "'+n+'"');if(i)r=k(t,r);return r.replace(/\s+/g," ").replace(/\\/g,"\\\\").replace(/'/g,"\\'").trim()}function C(r,t){if(!t)t={};else{if(t.brackets)e.settings.brackets=t.brackets;if(t.template)r=E(t.template,r)}r=r.replace(a,function(e,r,n){return y(r,x(n,t),"","","")});return r.replace(u,function(e,r,n,i,s){var c="",a=t.type;if(i){if(!s.trim()){i=i.replace(p,function(e,r,t){if(r)a=r.replace("text/","");s=t;return""})}i=i.replace(m,function(e,t,n){var i=/(?:^|\s+)scoped(\s|=|$)/i.test(t),s=t&&t.match(/(?:^|\s+)type\s*=\s*['"]?([^'"\s]+)['"]?/i);if(s)s=s[1].replace("text/","");c+=(c?" ":"")+S(n.trim(),r,s||"css",i);return""})}return y(r,x(i,t,a),c,x(n,""),j(s,t,a))})}var T=window.document,O,q;function L(e,r){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState==4&&(t.status==200||!t.status&&t.responseText.length))r(t.responseText)};t.open("GET",e,true);t.send("")}function A(e){var r=/[ \t]+/.exec(e);if(r)e=e.replace(new RegExp("^"+r[0],"gm"),"");return e}function H(e){var r=T.createElement("script"),t=T.documentElement;r.text=C(e);t.appendChild(r);t.removeChild(r)}function M(e){var r=T.querySelectorAll('script[type="riot/tag"]'),t=r.length;function n(){O.trigger("ready");q=true;if(e)e()}if(!t){n()}else{[].map.call(r,function(e){var r=e.getAttribute("src");function i(e){H(e);t--;if(!t){n()}}return r?L(r,i):i(A(e.innerHTML))})}}e.compile=function(n,i){if(typeof n===t){if(n.trim()[0]=="<"){var s=A(C(n));if(!i)H(s);return s}else{return L(n,function(e){var r=A(C(e));H(r);if(i)i(r,e)})}}if(typeof n!=="function")n=r;if(q)return n&&n();if(O){if(n)O.on("ready",n)}else{O=e.observable();M(n)}};var R=e.mount;e.mount=function(r,t,n){var i;e.compile(function(){i=R(r,t,n)});return i};e.mountTo=e.mount});